# Custom Release File Format
#
# - Lines starting with '#' are comments.
# - Releases are listed in descending order, with the latest release first.
# - Each release follows this structure:
#
#   =--- release-name ---=
#   Release description
#   Can span multiple lines
#   =--- END ---=
#
# Details:
# - release-name: the name of the release
# - Release description: detailed information about the release
# - =--- END ---=: marks the end of the release 

=--- v1.0.13-ochna ---=
### What Changed
- BotWave will now warn you if another instance is already running, preventing potential broadcast conflicts
- Improved server shutdown handling to prevent event loop issues
- Fixed client f-string quote escaping
- Server startup error message now includes a direct link to the GitHub repo and better instructions
=--- END ---=

=--- v1.0.12-batesia ---=
### What Changed
- Handler context updates:
    - The server handler context now includes `BW_SERVER_CONNECTED_CLIENTS`, which contains the hostnames of all connected clients, separated by commas

- Local client commands:
    - The `list` command has been renamed to `lf` to avoid conflicts with the server
    - The `list` command remains deprecated and will be removed in a future release
=--- END ---=

=--- v1.0.11-redbud ---=
*This release was supposed to be for valentines day, oops*

### What changed
- Handler context injection:
    - Handlers now receive environment variables at execution time (`BW_CLIENT_HOSTNAME`, `BW_BROADCAST_FILE`, `BW_BROADCAST_FREQ`, etc.)
    - Event-specific variables available where relevant (e.g. client info on `onconnect`/`ondisconnect`, broadcast info on `onstart`/`onstop`)
    - Environment is fully restored after each handler execution

- `{VAR}` interpolation in commands:
    - Commands inside handlers now support `{VAR}` syntax, resolved against the current environment
    - Allows using injected context directly in BotWave commands, not just shell calls

- New `|` pipe command:
    - Available on both server and local client
    - Runs a shell command and feeds each line of its stdout back as a BotWave command
    - Blocked from remote WebSocket execution for security

- **Bug fixes**:
    - Fixed potential deadlock in server async command execution
    - Server now exits cleanly with an error message if startup fails

- **Misc**:
    - Install and update scripts now support the `-b,--brach <name>` flag to pull from a specific branch
    - Updated docs for `handlers.md`, `local.md`, `server.md`, and `README.md`

### Related
The [`Main/Automate Your Setup`](https://github.com/dpipstudio/botwave/wiki/Automate-your-setup) has been updated to document dynamic handlers using env variables.  

Related PRs: #42, #43
=--- END ---=

=--- v1.0.10-umtiza ---=
**What changed:**
- Audio format conversion:
    - Added automatic conversion of common audio/video formats to WAV
    - Supports MP3, AAC, M4A, OGG, FLAC, OPUS, MP4, MKV, and many more formats
    - Conversion happens automatically during upload and download operations

- **Bug fixes**:
    - Fixed imports in client.py
    - Improved error handling in file operations
    - Better exception catching in history file loading

- **Misc**:
    - Updated `--talk` flag description for clarity
=--- END ---=

=--- v1.0.9-axinaea ---=
**What changed:**
- Minor bug fixes reguarding client-server live broadcasing.
=--- END ---=

=--- v1.0.8-senna ---=
**What changed:**
- Important fixes reguarding path traversal, most of them reguarding client <-> server.
- Bug fix in stop command (server side).
- Files downloader now fetch with the BotWaveDownloads/PROTOCOL_VERSION user agent.
=--- END ---=

=--- v1.0.7-annea ---=
**What changed:**
- **Protocol**:
    - New `Commands.END` for the client to report a broadcast end or failure
    - Version `2.0.2`

- **New features**:
    - `queue` command to manage your playlist. See [the wiki](https://github.com/dpipstudio/botwave/wiki/Queue-system)

- **Usage changes**:
    - Now local client and client can take the `--talk` argument to show [`PiWave`](https://git.douxx.tech/piwave) debug logs. Disabled by default.

---

Related:
- #33
- #37
=--- END ---=

=--- v1.0.6-citrus ---=
**What changed:**
- Updated default rt on server to reflect the filename, not the targets
- Minor log changes
- Fixed #31 for cleaner logging and user experience
=--- END ---=

=--- v1.0.5-abuta ---=
**What changed:**
- Replaced RDS defaults
- Added the Get Help section to the README
- Using custom user agent for version checks
- Added --skip-checks flag to server
- Edited help formatting on local client and server
=--- END ---=

=--- v1.0.4-zanha ---=
**What changed:**
- Added live streaming (see issue #14)
- Updated (un)installers / updaters. Now support the --[no-]alsa parameter
- Added STREAM_TOKEN to protocol, and removed RESTART. Protocol is now 2.0.1
- Enhanced error handling
=--- END ---=

=--- v1.0.3-desmos ---=
**What changed:**
- Fixed the text overriding the prompt. We now have a clean prompt / logs structure
- Changed defaults for radio name (ps) and radio description (rt). They now are "BotWave" and "file_name"
- Added peppe8o.com to the README and replaced "show hn" with "hackernews"
=--- END ---=

=--- v1.0.2-alfaroa ---=
## What changed:
- Improved `upload` on local client to add folder uploads
- Fixed a small logging type issue in the server
- Changed the README structure with clear instructions
=--- END ---=

=--- v1.0.1-terminalia ---=
**What changed:**
- Changed readme to add the ETC section and a dynamic hero image
- Fixed command history implementation in server and local
=--- END ---=

=--- v1.0.0-oak ---=
This is the first BotWave release.
This release provides a basic client-server implementation for BotWave,
alongside a standalone client. The protocol version is 2.0.0.
It supports basic FM broadcasing, SSTV & morse encoding, and more !
=--- END ---=